---
title: Using Object Storage with the AWS-CLI
description: This page explains how to use Scaleway Object Storage with AWS-CLI.
excerpt: |
  This page explains how to use Scaleway Object Storage with AWS-CLI.
totalTime: PT15M
steps:
  - step: TODO
    type: HowToStep
    url: https://www.scaleway.com/en/docs/storage/object/api-cli/object-storage-aws-cli
image: /assets/images/docs/scaleway.png
keywords: object storage, create, Howto
dates:
  validation: 2021-06-14
  posted: 2018-07-16
---

The AWS-CLI is an open-source tool built on top of the AWS SDK for Python (Boto) that provides commands for interacting with AWS services. With minimal configuration, you can start using all of the functionalities provided by the AWS Management.

<Message type="requirement">

  - You have an account and are logged into the [Scaleway Console](https://console.scaleway.com)  
  - You have [configured your API keys](/console/my-project/how-to/generate-api-key/)
  - You have [installed the AWS-CLI](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html)
</Message>

## Installing and configuring the endpoint plugin

The AWS-CLI is an open-source tool built on top of the AWS SDK for Python (Boto) that provides commands for interacting with AWS services. With minimal configuration, you can start using all of the functionality provided by the AWS Management.

To interact with AWS, `aws-cli` and `awscli-plugin-endpoint` need to be installed. The `awscli-plugin-endpoint` is a great plugin to help people more easily access third-party S3 providers.

<Message type="important">

  To perform the following steps, you must have already installed the AWS-CLI. The installation procedure may differ depending on your operating system and the version you install. To install the AWS-CLI v1, please refer to [this page](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv1.html). For v2, follow [this documentation](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html).

</Message>

1. Install `awscli-plugin-endpoint`.

  ```
  /usr/local/opt/awscli/libexec/bin/pip install --no-deps awscli-plugin-endpoint
  ```

2. Run the following command to check where the plugin was installed.
  ```
  pip3 show awscli_plugin_endpoint
  ```

  Copy the location path from the output. It will be used in a future step.

  ```
  Name: awscli-plugin-endpoint
  Version: 0.4
  Summary: Endpoint plugin for AWS CLI
  Home-page: https://github.com/wbingli/awscli-plugin-endpoint
  Author: Wenbing Li
  Author-email: wbingli@gmail.com
  License: UNKNOWN
  Location: /usr/local/lib/python3.9/site-packages
  Requires: awscli
  Required-by:
  ```

3. Open the `~/.aws/config` file with a text editor. 

4. Add a `[plugins]` section including `endpoint = awscli_plugin_endpoint` and `cli_legacy_plugin_path = path_to_plugin` to the file. Replace `path_to_plugin` with the path you copied on step 2.

  ```
  [plugins]
  endpoint = awscli_plugin_endpoint
  cli_legacy_plugin_path = path_to_plugin

  [default]
  region = nl-ams
  s3 =
    endpoint_url = https://s3.nl-ams.scw.cloud
    signature_version = s3v4
    max_concurrent_requests = 100
    max_queue_size = 1000
    multipart_threshold = 50MB
    # Edit the multipart_chunksize value according to the file sizes that you want to upload. The present configuration allows to upload files up to 10 GB (100 requests * 10MB). For example setting it to 5GB allows you to upload files up to 5TB.
    multipart_chunksize = 10MB
  s3api =
    endpoint_url = https://s3.nl-ams.scw.cloud
  ```
  <Message type="note">

  Set the `endpoint_url` and `region` corresponding to the geographical region of your bucket. It can either be `fr-par` (Paris, France), `nl-ams` (Amsterdam, The Netherlands) or `pl-waw`(Warsaw, Poland).

  </Message>

4. Generate a credentials file using the command:
  ```
  aws configure
  ```
5. Open the `~/.aws/credentials` file and configure your [API key](/console/my-project/how-to/generate-api-key/) as follows:
  ```
  [default]
  aws_access_key_id=<ACCESS_KEY>
  aws_secret_access_key=<SECRET_KEY>
  ```

6. Test your cluster.
  ```
  aws s3 ls
  ```

<Navigation title="See Also">
  <NextButton to="/storage/object/api-cli/installing-minio-client">Installing MinIO Client</NextButton>
</Navigation>